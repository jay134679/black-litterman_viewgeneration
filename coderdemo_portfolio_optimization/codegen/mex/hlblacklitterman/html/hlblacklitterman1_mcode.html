<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T12U3">er</span>, <span class="var type1" id="S3T2U4">ps</span>, <span class="var type1" id="S4T12U5">w</span>, <span class="var type1" id="S5T12U6">pw</span>, <span class="var type1" id="S6T6U7">lambda</span>, <span class="var type1" id="S7T35U8">theta</span>] = <span class="message error" id="M1F1C">hlblacklitterman</span>(<span class="var type1" id="S8T6U11">delta</span>, <span class="var type1" id="S9T1U12">weq</span>, <span class="var type1" id="S10T2U13">sigma</span>, <span class="var type1" id="S11T6U14">tau</span>, <span class="var type1" id="S12T1U15">P</span>, <span class="var type1" id="S13T6U16">Q</span>, <span class="var type1" id="S14T6U17">Omega</span>)<span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">% hlblacklitterman</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"><span class="comment">%   This function performs the Black-Litterman blending of the prior</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%   and the views into a new posterior estimate of the returns as</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"><span class="comment">%   described in the paper by He and Litterman.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">% Inputs</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"><span class="comment">%   delta  - Risk tolerance from the equilibrium portfolio</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"><span class="comment">%   weq    - Weights of the assets in the equilibrium portfolio</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="comment">%   sigma  - Prior covariance matrix</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"><span class="comment">%   tau    - Coefficiet of uncertainty in the prior estimate of the mean (pi)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="comment">%   P      - Pick matrix for the view(s)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="comment">%   Q      - Vector of view returns</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"><span class="comment">%   Omega  - Matrix of variance of the views (diagonal)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="comment">% Outputs</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"><span class="comment">%   Er     - Posterior estimate of the mean returns</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"><span class="comment">%   w      - Unconstrained weights computed given the Posterior estimates</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="comment">%            of the mean and covariance of returns.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="comment">%   lambda - A measure of the impact of each view on the posterior estimates.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"><span class="comment">%   theta  - A measure of the share of the prior and sample information in the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"><span class="comment">%            posterior precision.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">% Reverse optimize and back out the equilibrium returns</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="comment">% This is formula (12) page 6.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="mxinfo" id="T1:U14"><span class="var type1" id="S15T1U20">pi</span> = <span class="mxinfo" id="T1:U16"><span class="mxinfo" id="T1:U17"><span class="var type1" id="S9T1U23">weq</span> * <span class="var type1" id="S10T2U24">sigma</span></span> * <span class="var type1" id="S8T6U25">delta</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="comment">% We use tau * sigma many places so just compute it once</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"><span class="mxinfo" id="T2:U21"><span class="var type1" id="S16T2U28">ts</span> = <span class="mxinfo" id="T2:U23"><span class="var type1" id="S11T6U30">tau</span> * <span class="var type1" id="S10T2U31">sigma</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="comment">% Compute posterior estimate of the mean</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"><span class="comment">% This is a simplified version of formula (8) on page 4.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"><span class="mxinfo" id="T12:U26"><span class="var type1" id="S2T12U34">er</span> = <span class="mxinfo" id="T12:U28"><span class="mxinfo" id="T12:U29"><span class="var type1" id="S15T1U37">pi</span>'</span> + <span class="mxinfo" id="T12:U31"><span class="mxinfo" id="T12:U32"><span class="mxinfo" id="T12:U33"><span class="var type1" id="S16T2U41">ts</span> * <span class="mxinfo" id="T12:U35"><span class="var type1" id="S12T1U43">P</span>'</span></span> * <span class="mxinfo" id="T6:U37">inv(<span class="mxinfo" id="T6:U38"><span class="mxinfo" id="T6:U39"><span class="mxinfo" id="T1:U40"><span class="var type1" id="S12T1U49">P</span> * <span class="var type1" id="S16T2U50">ts</span></span> * <span class="mxinfo" id="T12:U43"><span class="var type1" id="S12T1U52">P</span>'</span></span> + <span class="var type1" id="S14T6U53">Omega</span></span>)</span></span> * (<span class="mxinfo" id="T6:U46"><span class="var type1" id="S13T6U56">Q</span> - <span class="mxinfo" id="T6:U48"><span class="var type1" id="S12T1U58">P</span> * <span class="mxinfo" id="T12:U50"><span class="var type1" id="S15T1U60">pi</span>'</span></span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="comment">% We can also do it the long way to illustrate that d1 + d2 = I</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"><span class="mxinfo" id="T2:U52"><span class="var type1" id="S18T2U63">d</span> = <span class="mxinfo" id="T2:U54">inv(<span class="mxinfo" id="T2:U55"><span class="mxinfo" id="T2:U56">inv(<span class="var type1" id="S16T2U69">ts</span>)</span> + <span class="mxinfo" id="T2:U58"><span class="mxinfo" id="T12:U59"><span class="mxinfo" id="T12:U60"><span class="var type1" id="S12T1U73">P</span>'</span> * <span class="mxinfo" id="T6:U62">inv(<span class="var type1" id="S14T6U76">Omega</span>)</span></span> * <span class="var type1" id="S12T1U77">P</span></span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="mxinfo" id="T2:U65"><span class="var type1" id="S19T2U80">d1</span> = <span class="mxinfo" id="T2:U67"><span class="var type1" id="S18T2U82">d</span> * <span class="mxinfo" id="T2:U69">inv(<span class="var type1" id="S16T2U85">ts</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="mxinfo" id="T2:U71"><span class="var type1" id="S20T2U88">d2</span> = <span class="mxinfo" id="T2:U73"><span class="mxinfo" id="T12:U74"><span class="mxinfo" id="T12:U75"><span class="var type1" id="S18T2U92">d</span> * <span class="mxinfo" id="T12:U77"><span class="var type1" id="S12T1U94">P</span>'</span></span> * <span class="mxinfo" id="T6:U79">inv(<span class="var type1" id="S14T6U97">Omega</span>)</span></span> * <span class="var type1" id="S12T1U98">P</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="mxinfo" id="T12:U82"><span class="var type1" id="S21T12U101">er2</span> = <span class="mxinfo" id="T12:U84"><span class="mxinfo" id="T12:U85"><span class="var type1" id="S19T2U104">d1</span> * <span class="mxinfo" id="T12:U87"><span class="var type1" id="S15T1U106">pi</span>'</span></span> + <span class="mxinfo" id="T12:U89"><span class="mxinfo" id="T12:U90"><span class="var type1" id="S20T2U109">d2</span> * <span class="mxinfo" id="T12:U92">pinv(<span class="var type1" id="S12T1U112">P</span>)</span></span> * <span class="var type1" id="S13T6U113">Q</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"><span class="comment">% Compute posterior estimate of the uncertainty in the mean</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line"><span class="comment">% This is a simplified and combined version of formulas (9) and (15)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line"><span class="mxinfo" id="T2:U95"><span class="var type1" id="S3T2U116">ps</span> = <span class="mxinfo" id="T2:U97"><span class="var type1" id="S16T2U118">ts</span> - <span class="mxinfo" id="T2:U99"><span class="mxinfo" id="T2:U100"><span class="mxinfo" id="T12:U101"><span class="mxinfo" id="T12:U102"><span class="var type1" id="S16T2U123">ts</span> * <span class="mxinfo" id="T12:U104"><span class="var type1" id="S12T1U125">P</span>'</span></span> * <span class="mxinfo" id="T6:U106">inv(<span class="mxinfo" id="T6:U107"><span class="mxinfo" id="T6:U108"><span class="mxinfo" id="T1:U109"><span class="var type1" id="S12T1U131">P</span> * <span class="var type1" id="S16T2U132">ts</span></span> * <span class="mxinfo" id="T12:U112"><span class="var type1" id="S12T1U134">P</span>'</span></span> + <span class="var type1" id="S14T6U135">Omega</span></span>)</span></span> * <span class="var type1" id="S12T1U136">P</span></span> * <span class="var type1" id="S16T2U137">ts</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line"><span class="mxinfo" id="T2:U117"><span class="var type1" id="S23T2U140">posteriorSigma</span> = <span class="mxinfo" id="T2:U119"><span class="var type1" id="S10T2U142">sigma</span> + <span class="var type1" id="S3T2U143">ps</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"><span class="comment">% Compute the share of the posterior precision from prior and views,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line"><span class="comment">% then for each individual view so we can compare it with lambda</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line"><span class="mxinfo" id="T35:U122"><span class="var type1" id="S7T35U146">theta</span>=<span class="mxinfo" id="T35:U124">zeros(<span class="mxinfo" id="T6:U125">1</span>,<span class="mxinfo" id="T6:U126">2+size(<span class="var type1" id="S12T1U154">P</span>,1)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line"><span class="mxinfo" id="T6:U128"><span class="mxinfo" id="T6:U129"><span class="var type1" id="S7T35U159">theta</span>(<span class="mxinfo" id="T6:U131">1</span>,<span class="mxinfo" id="T6:U132">1</span>)</span> = (<span class="mxinfo" id="T6:U133"><span class="mxinfo" id="T6:U134">trace(<span class="mxinfo" id="T2:U135"><span class="mxinfo" id="T2:U136">inv(<span class="var type1" id="S16T2U169">ts</span>)</span> * <span class="var type1" id="S3T2U170">ps</span></span>)</span> / <span class="mxinfo" id="T6:U139">size(<span class="var type1" id="S16T2U173">ts</span>,1)</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"><span class="mxinfo" id="T6:U141"><span class="mxinfo" id="T6:U142"><span class="var type1" id="S7T35U178">theta</span>(<span class="mxinfo" id="T6:U144">1</span>,<span class="mxinfo" id="T6:U145">2</span>)</span> = (<span class="mxinfo" id="T6:U146"><span class="mxinfo" id="T6:U147">trace(<span class="mxinfo" id="T2:U148"><span class="mxinfo" id="T2:U149"><span class="mxinfo" id="T12:U150"><span class="mxinfo" id="T12:U151"><span class="var type1" id="S12T1U189">P</span>'</span>*<span class="mxinfo" id="T6:U153">inv(<span class="var type1" id="S14T6U192">Omega</span>)</span></span>*<span class="var type1" id="S12T1U193">P</span></span>* <span class="var type1" id="S3T2U194">ps</span></span>)</span> / <span class="mxinfo" id="T6:U157">size(<span class="var type1" id="S16T2U197">ts</span>,1)</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S27T6U201">i</span>=<span class="mxinfo" id="T6:U160">1:size(<span class="var type1" id="S12T1U206">P</span>,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line">    <span class="mxinfo" id="T6:U162"><span class="mxinfo" id="T6:U163"><span class="var type1" id="S7T35U211">theta</span>(<span class="mxinfo" id="T6:U165">1</span>,<span class="mxinfo" id="T6:U166">2+<span class="var type1" id="S27T6U215">i</span></span>)</span> = (<span class="mxinfo" id="T6:U168"><span class="mxinfo" id="T6:U169">trace(<span class="mxinfo" id="T2:U170"><span class="mxinfo" id="T2:U171"><span class="mxinfo" id="T12:U172"><span class="mxinfo" id="T12:U173"><span class="mxinfo" id="T1:U174"><span class="var type1" id="S12T1U225">P</span>(<span class="mxinfo" id="T6:U176"><span class="var type1" id="S27T6U226">i</span></span>,:)</span>'</span>*<span class="mxinfo" id="T6:U178">inv(<span class="var type1" id="S14T6U231">Omega</span>(<span class="var type1" id="S27T6U232">i</span>,<span class="var type1" id="S27T6U233">i</span>))</span></span>*<span class="mxinfo" id="T1:U182"><span class="var type1" id="S12T1U235">P</span>(<span class="mxinfo" id="T6:U184"><span class="var type1" id="S27T6U236">i</span></span>,:)</span></span>* <span class="var type1" id="S3T2U238">ps</span></span>)</span> / <span class="mxinfo" id="T6:U187">size(<span class="var type1" id="S16T2U241">ts</span>,1)</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"><span class="comment">% Compute posterior weights based solely on changed covariance</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="mxinfo" id="T12:U189"><span class="var type1" id="S4T12U245">w</span> = <span class="mxinfo" id="T12:U191">(<span class="mxinfo" id="T1:U192"><span class="mxinfo" id="T1:U193"><span class="var type1" id="S2T12U250">er</span>'</span> * <span class="mxinfo" id="T2:U195">inv(<span class="mxinfo" id="T2:U196"><span class="var type1" id="S8T6U254">delta</span> * <span class="var type1" id="S23T2U255">posteriorSigma</span></span>)</span></span>)'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"><span class="comment">% Compute posterior weights based on uncertainty in mean and covariance</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="mxinfo" id="T12:U199"><span class="var type1" id="S5T12U258">pw</span> = <span class="mxinfo" id="T12:U201">(<span class="mxinfo" id="T1:U202"><span class="var type1" id="S15T1U262">pi</span> * <span class="mxinfo" id="T2:U204">inv(<span class="mxinfo" id="T2:U205"><span class="var type1" id="S8T6U266">delta</span> * <span class="var type1" id="S23T2U267">posteriorSigma</span></span>)</span></span>)'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line"><span class="comment">% Compute lambda value</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line"><span class="comment">% We solve for lambda from formula (17) page 7, rather than formula (18)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line"><span class="comment">% just because it is less to type, and we've already computed w*.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line"><span class="mxinfo" id="T6:U208"><span class="var type1" id="S6T6U270">lambda</span> = <span class="mxinfo" id="T6:U210"><span class="mxinfo" id="T1:U211"><span class="mxinfo" id="T12:U212">pinv(<span class="var type1" id="S12T1U275">P</span>)</span>'</span> * <span class="mxinfo" id="T12:U214">(<span class="mxinfo" id="T1:U215"><span class="mxinfo" id="T1:U216"><span class="mxinfo" id="T1:U217"><span class="var type1" id="S4T12U281">w</span>'</span>*(<span class="mxinfo" id="T6:U219"><span class="mxinfo" id="T6:U220">1</span>+<span class="var type1" id="S11T6U285">tau</span></span>)</span> - <span class="var type1" id="S9T1U286">weq</span></span>)'</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line"><span class="comment">% Black-Litterman example code for MatLab (hlblacklitterman.m)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line"><span class="comment">% Copyright (c) Jay Walters, blacklitterman.org, 2008.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line"><span class="comment">% Redistribution and use in source and binary forms, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line"><span class="comment">% with or without modification, are permitted provided </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line"><span class="comment">% that the following conditions are met:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line"><span class="comment">% Redistributions of source code must retain the above </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line"><span class="comment">% copyright notice, this list of conditions and the following </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line"><span class="comment">% disclaimer.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line"><span class="comment">% Redistributions in binary form must reproduce the above </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line"><span class="comment">% copyright notice, this list of conditions and the following </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line"><span class="comment">% disclaimer in the documentation and/or other materials </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line"><span class="comment">% provided with the distribution.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line"><span class="comment">%  </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line"><span class="comment">% Neither the name of blacklitterman.org nor the names of its</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line"><span class="comment">% contributors may be used to endorse or promote products </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line"><span class="comment">% derived from this software without specific prior written</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line"><span class="comment">% permission.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line"><span class="comment">%  </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line"><span class="comment">% THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line"><span class="comment">% CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line"><span class="comment">% INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line"><span class="comment">% MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line"><span class="comment">% DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line"><span class="comment">% CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line"><span class="comment">% SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line"><span class="comment">% BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line"><span class="comment">% SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line"><span class="comment">% INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line"><span class="comment">% WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line"><span class="comment">% NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line"><span class="comment">% OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line"><span class="comment">% DAMAGE.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line"><span class="comment">% This program uses the examples from the paper "The Intuition </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line"><span class="comment">% Behind Black-Litterman Model  Portfolios", by He and Litterman,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line"><span class="comment">% 1999.  You can find a copy of this  paper at the following url.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line"><span class="comment">%     http:%papers.ssrn.com/sol3/papers.cfm?abstract_id=334304</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line"><span class="comment">% For more details on the Black-Litterman model you can also view</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line"><span class="comment">% "The BlackLitterman Model: A Detailed Exploration", by this author</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line"><span class="comment">% at the following url.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line"><span class="comment">%     http:%www.blacklitterman.org/Black-Litterman.pdf</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line"><span class="comment">%</span></span></span>
</pre>
